<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 450" fill="none">
  <defs>
    <filter id="glow-m" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="8" result="blur"/>
      <feFlood flood-color="#3d7ada" flood-opacity="0.25" result="color"/>
      <feComposite in="color" in2="blur" operator="in" result="glow"/>
      <feMerge>
        <feMergeNode in="glow"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="coin-glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="6" result="blur"/>
      <feFlood flood-color="#6ca6f8" flood-opacity="0.35" result="color"/>
      <feComposite in="color" in2="blur" operator="in" result="glow"/>
      <feMerge>
        <feMergeNode in="glow"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <linearGradient id="flow-grad-m" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#2a4a8b"/>
      <stop offset="50%" stop-color="#3d7ada"/>
      <stop offset="100%" stop-color="#2a4a8b"/>
    </linearGradient>
    <linearGradient id="chart-fill" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#3d7ada" stop-opacity="0.3"/>
      <stop offset="100%" stop-color="#3d7ada" stop-opacity="0"/>
    </linearGradient>
  </defs>

  <!-- Subtle dot grid -->
  <g opacity="0.06">
    <pattern id="dot-grid-m" x="0" y="0" width="24" height="24" patternUnits="userSpaceOnUse">
      <circle cx="12" cy="12" r="0.8" fill="#6ca6f8"/>
    </pattern>
    <rect width="600" height="450" fill="url(#dot-grid-m)"/>
  </g>

  <!-- ============ TOP FLOW: Query -> Process -> Payment ============ -->

  <!-- Flow line segment 1: Query -> Process -->
  <line x1="156" y1="150" x2="256" y2="150" stroke="#2a4a8b" stroke-width="1" opacity="0.3"/>
  <line x1="156" y1="150" x2="256" y2="150" stroke="#3d7ada" stroke-width="1.5" stroke-dasharray="8 6" opacity="0.4" stroke-linecap="round">
    <animate attributeName="stroke-dashoffset" from="0" to="-28" dur="2s" repeatCount="indefinite"/>
  </line>

  <!-- Flow line segment 2: Process -> Payment -->
  <line x1="344" y1="150" x2="452" y2="150" stroke="#2a4a8b" stroke-width="1" opacity="0.3"/>
  <line x1="344" y1="150" x2="452" y2="150" stroke="#3d7ada" stroke-width="1.5" stroke-dasharray="8 6" opacity="0.4" stroke-linecap="round">
    <animate attributeName="stroke-dashoffset" from="0" to="-28" dur="2s" repeatCount="indefinite"/>
  </line>

  <!-- Query Node (left) -->
  <g filter="url(#glow-m)" transform="translate(120, 150)">
    <rect x="-36" y="-28" width="72" height="56" rx="10" stroke="#3d7ada" stroke-width="1.5" fill="#2a4a8b" fill-opacity="0.25"/>
    <!-- Terminal/query icon -->
    <text x="-16" y="-4" font-family="ui-monospace, monospace" font-size="14" fill="#6ca6f8" opacity="0.9">&gt;_</text>
    <text x="0" y="14" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#fff" opacity="0.5">QUERY</text>
  </g>
  <text x="120" y="200" text-anchor="middle" font-family="ui-monospace, monospace" font-size="10" fill="#6ca6f8" opacity="0.6">SELECT *</text>

  <!-- Arrow indicator -->
  <polyline points="175,144 185,150 175,156" stroke="#3d7ada" stroke-width="1.5" fill="none" opacity="0.5" stroke-linecap="round" stroke-linejoin="round"/>

  <!-- Processing Node (center) -->
  <g filter="url(#glow-m)" transform="translate(300, 150)">
    <rect x="-44" y="-28" width="88" height="56" rx="10" stroke="#3d7ada" stroke-width="1.5" fill="#2a4a8b" fill-opacity="0.25"/>
    <!-- Gear/process icon -->
    <circle cx="0" cy="-4" r="10" stroke="#6ca6f8" stroke-width="1.5" fill="none"/>
    <circle cx="0" cy="-4" r="4" stroke="#6ca6f8" stroke-width="1" fill="none"/>
    <!-- Gear teeth -->
    <line x1="0" y1="-16" x2="0" y2="-14" stroke="#6ca6f8" stroke-width="2" stroke-linecap="round"/>
    <line x1="0" y1="6" x2="0" y2="8" stroke="#6ca6f8" stroke-width="2" stroke-linecap="round"/>
    <line x1="-12" y1="-4" x2="-10" y2="-4" stroke="#6ca6f8" stroke-width="2" stroke-linecap="round"/>
    <line x1="10" y1="-4" x2="12" y2="-4" stroke="#6ca6f8" stroke-width="2" stroke-linecap="round"/>
    <text x="0" y="18" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#fff" opacity="0.5">PROCESS</text>
  </g>

  <!-- x402 label badge -->
  <g transform="translate(300, 106)">
    <rect x="-22" y="-10" width="44" height="20" rx="4" stroke="#6ca6f8" stroke-width="1" fill="#2a4a8b" fill-opacity="0.5"/>
    <text x="0" y="4" text-anchor="middle" font-family="ui-monospace, monospace" font-size="10" fill="#6ca6f8" font-weight="600">x402</text>
  </g>

  <!-- Arrow indicator -->
  <polyline points="360,144 370,150 360,156" stroke="#3d7ada" stroke-width="1.5" fill="none" opacity="0.5" stroke-linecap="round" stroke-linejoin="round"/>

  <!-- Payment/Coin Node (right) -->
  <g filter="url(#coin-glow)" transform="translate(480, 150)">
    <circle cx="0" cy="0" r="28" stroke="#6ca6f8" stroke-width="1.5" fill="#2a4a8b" fill-opacity="0.3"/>
    <!-- Dollar sign -->
    <text x="0" y="6" text-anchor="middle" font-family="system-ui, sans-serif" font-size="22" fill="#6ca6f8" font-weight="600">$</text>
  </g>

  <!-- Floating dollar amounts -->
  <g opacity="0.7">
    <text x="440" y="100" font-family="ui-monospace, monospace" font-size="11" fill="#6ca6f8">
      $0.10
      <animate attributeName="opacity" values="0.3;0.8;0.3" dur="3s" repeatCount="indefinite"/>
    </text>
    <text x="500" y="88" font-family="ui-monospace, monospace" font-size="9" fill="#3d7ada">
      $0.05
      <animate attributeName="opacity" values="0.5;1;0.5" dur="2.5s" begin="0.5s" repeatCount="indefinite"/>
    </text>
    <text x="520" y="112" font-family="ui-monospace, monospace" font-size="10" fill="#6ca6f8">
      $0.25
      <animate attributeName="opacity" values="0.2;0.7;0.2" dur="3.5s" begin="1s" repeatCount="indefinite"/>
    </text>
  </g>

  <!-- ============ BOTTOM: Revenue Chart ============ -->

  <!-- Chart container -->
  <g transform="translate(80, 260)">
    <!-- Chart frame -->
    <rect x="0" y="0" width="440" height="150" rx="8" stroke="#2a4a8b" stroke-width="1" fill="#2a4a8b" fill-opacity="0.1"/>

    <!-- Y-axis labels -->
    <text x="-8" y="15" text-anchor="end" font-family="ui-monospace, monospace" font-size="8" fill="#6ca6f8" opacity="0.4">$50</text>
    <text x="-8" y="52" text-anchor="end" font-family="ui-monospace, monospace" font-size="8" fill="#6ca6f8" opacity="0.4">$30</text>
    <text x="-8" y="90" text-anchor="end" font-family="ui-monospace, monospace" font-size="8" fill="#6ca6f8" opacity="0.4">$10</text>
    <text x="-8" y="130" text-anchor="end" font-family="ui-monospace, monospace" font-size="8" fill="#6ca6f8" opacity="0.4">$0</text>

    <!-- Grid lines -->
    <line x1="0" y1="12" x2="440" y2="12" stroke="#2a4a8b" stroke-width="0.5" opacity="0.4"/>
    <line x1="0" y1="50" x2="440" y2="50" stroke="#2a4a8b" stroke-width="0.5" opacity="0.4"/>
    <line x1="0" y1="87" x2="440" y2="87" stroke="#2a4a8b" stroke-width="0.5" opacity="0.4"/>
    <line x1="0" y1="125" x2="440" y2="125" stroke="#2a4a8b" stroke-width="0.5" opacity="0.4"/>

    <!-- Revenue bar chart -->
    <g opacity="0.9">
      <!-- Bars -->
      <rect x="20" y="105" width="24" height="30" rx="2" fill="#2a4a8b" fill-opacity="0.6" stroke="#3d7ada" stroke-width="0.5"/>
      <rect x="60" y="90" width="24" height="45" rx="2" fill="#2a4a8b" fill-opacity="0.6" stroke="#3d7ada" stroke-width="0.5"/>
      <rect x="100" y="78" width="24" height="57" rx="2" fill="#2a4a8b" fill-opacity="0.6" stroke="#3d7ada" stroke-width="0.5"/>
      <rect x="140" y="85" width="24" height="50" rx="2" fill="#2a4a8b" fill-opacity="0.6" stroke="#3d7ada" stroke-width="0.5"/>
      <rect x="180" y="60" width="24" height="75" rx="2" fill="#2a4a8b" fill-opacity="0.6" stroke="#3d7ada" stroke-width="0.5"/>
      <rect x="220" y="48" width="24" height="87" rx="2" fill="#5997f2" fill-opacity="0.5" stroke="#3d7ada" stroke-width="0.5"/>
      <rect x="260" y="55" width="24" height="80" rx="2" fill="#5997f2" fill-opacity="0.5" stroke="#3d7ada" stroke-width="0.5"/>
      <rect x="300" y="35" width="24" height="100" rx="2" fill="#5997f2" fill-opacity="0.5" stroke="#3d7ada" stroke-width="0.5"/>
      <rect x="340" y="28" width="24" height="107" rx="2" fill="#3d7ada" fill-opacity="0.5" stroke="#6ca6f8" stroke-width="0.5"/>
      <rect x="380" y="15" width="24" height="120" rx="2" fill="#3d7ada" fill-opacity="0.5" stroke="#6ca6f8" stroke-width="0.5"/>
    </g>

    <!-- Trend line overlay -->
    <polyline points="32,100 72,85 112,73 152,80 192,55 232,43 272,50 312,30 352,23 392,10" stroke="#6ca6f8" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>

    <!-- Trend dots -->
    <circle cx="392" cy="10" r="3" fill="#6ca6f8"/>
    <circle cx="392" cy="10" r="3" fill="#6ca6f8" opacity="0">
      <animate attributeName="r" from="3" to="8" dur="1.5s" repeatCount="indefinite"/>
      <animate attributeName="opacity" from="0.5" to="0" dur="1.5s" repeatCount="indefinite"/>
    </circle>

    <!-- X-axis labels -->
    <text x="32" y="145" text-anchor="middle" font-family="system-ui, sans-serif" font-size="7" fill="#6ca6f8" opacity="0.4">Jan</text>
    <text x="112" y="145" text-anchor="middle" font-family="system-ui, sans-serif" font-size="7" fill="#6ca6f8" opacity="0.4">Mar</text>
    <text x="192" y="145" text-anchor="middle" font-family="system-ui, sans-serif" font-size="7" fill="#6ca6f8" opacity="0.4">May</text>
    <text x="272" y="145" text-anchor="middle" font-family="system-ui, sans-serif" font-size="7" fill="#6ca6f8" opacity="0.4">Jul</text>
    <text x="352" y="145" text-anchor="middle" font-family="system-ui, sans-serif" font-size="7" fill="#6ca6f8" opacity="0.4">Sep</text>
    <text x="392" y="145" text-anchor="middle" font-family="system-ui, sans-serif" font-size="7" fill="#6ca6f8" opacity="0.4">Oct</text>
  </g>

  <!-- Revenue label -->
  <text x="300" y="432" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#fff" opacity="0.4">Per-query revenue over time</text>

  <!-- Small metric card top-right -->
  <g transform="translate(558, 276)">
    <rect x="-22" y="-10" width="44" height="32" rx="5" stroke="#2a4a8b" stroke-width="1" fill="#2a4a8b" fill-opacity="0.2"/>
    <text x="0" y="0" text-anchor="middle" font-family="system-ui, sans-serif" font-size="6" fill="#6ca6f8" opacity="0.5">TOTAL</text>
    <text x="0" y="13" text-anchor="middle" font-family="ui-monospace, monospace" font-size="11" fill="#6ca6f8" font-weight="600">$482</text>
  </g>
</svg>